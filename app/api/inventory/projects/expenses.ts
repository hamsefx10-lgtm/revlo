// app/api/inventory/projects/expenses.ts - API route to get project material usages from expenses
import { NextResponse } from 'next/server';
import prisma from '@/lib/db';
import { getSessionCompanyId } from './auth';

// GET /api/inventory/projects/expenses - Get all project material usages from expenses (category: Material, projectId != null)
export async function GET(request: Request) {
  try {
    const companyId = await getSessionCompanyId();
    // Find all expenses that are Material and have a projectId
    const expenses = await prisma.expense.findMany({
      where: {
        companyId,
        category: 'Material',
        projectId: { not: null },
      },
      select: {
        id: true,
        description: true,
        amount: true,
        expenseDate: true,
        materials: true,
        project: { select: { id: true, name: true, customer: { select: { name: true } } } },
      },
      orderBy: { expenseDate: 'desc' },
    });
    // Map to ProjectMaterialUsage interface, now itemized per material
    const projectMaterials = [];
    for (const exp of expenses) {
      if (Array.isArray(exp.materials)) {
        for (const matRaw of exp.materials) {
          // Defensive: ensure matRaw is an object with expected fields
          if (matRaw && typeof matRaw === 'object' && 'name' in matRaw && 'qty' in matRaw && 'price' in matRaw && 'unit' in matRaw) {
            const mat = matRaw as { name: string; qty: number; price: number; unit: string };
            projectMaterials.push({
              id: exp.id,
              name: mat.name || '-',
              quantityUsed: mat.qty,
              unit: mat.unit || '-',
              costPerUnit: mat.price,
              totalCost: typeof mat.qty === 'number' && typeof mat.price === 'number' ? mat.qty * mat.price : undefined,
              leftoverQty: 0, // Not tracked in expense
              dateUsed: exp.expenseDate,
              project: exp.project,
            });
          }
        }
      } else {
        // fallback for old records
        projectMaterials.push({
          id: exp.id,
          name: exp.description || '-',
          quantityUsed: Number(exp.amount),
          unit: 'unit',
          costPerUnit: Number(exp.amount),
          totalCost: Number(exp.amount),
          leftoverQty: 0,
          dateUsed: exp.expenseDate,
          project: exp.project,
        });
      }
    }
    return NextResponse.json({ projectMaterials }, { status: 200 });
  } catch (error) {
    console.error('Error fetching project material usages from expenses:', error);
    return NextResponse.json(
      { message: 'Cilad server ayaa dhacday. Fadlan isku day mar kale.' },
      { status: 500 }
    );
  }
}


//maanta waxan rabaa iinaad ii bilawdo wep app dhamaystiran kaaso pabta shaqooyin badan balse hada waxan ka rabnaa in laga isticmaalo qaybta project manage wep appkan waxan rabaa inuu la tartamo caalmaka oo uu ka fiicnaado queck books  iyo odoo iwm waxn rabaa inuu noqdo nidaam ERB ah oo aad u heer sareeya aan kuu dul maro qaybta ugu muhiimsan wepp appkan oo an rabno inad ii bilawdid waa project manage taaso qabata ama ogolanaysa in qofku diwan galiyo mashruuc aan faah faahiyo projectigaas marka la diwan galinayo waxa la qoraa form ay ku jiraan magaca mashruca clintiga oo customers lagaso diwan galiyay sido kale project agreed iyo advance paid sido kale accountiga lacagta ay gashay iyo iyo hadii uu labo account ku kala bixiyay ay meeshasi ku cadaato waxa aan hada kaaga shegay project manage waa ay kooban tahay %10 ayan kaaga sheegay inta kael dhamaystirkedu waa adi sido kale waxa jira expenses marak lajoogo expenses waxan kaa ilaabay horta marki an samaynayno project manage wax walba labay u qaybsamayaan oo marki la diwan galinayo kharash waxa lagu waydiin kharashkaasi ma compenygaa mise waa project buu khuseeya sido kale marki aad diwan galinayso employee employeegan ma compeniguu ushaqeeya mise project aya loo diwaan galinayaa sidaaso kale marki expenses la diwan galinayo waa labo project inu expenseskan khuseeyo ama inuu khuseeyo compenyga si hadhow si gaar ah loogu xisabiyo compenyga wixiisa madamo project la xidhiidhin ee uu lacagta accountiga laga jarayo un hadhowna faaiidada laga jaro wuxuu compenigu isticmaalay ama mushaharad ha ahaadana maa wax kalee ee taas adne waad iiga cilmi badan tahay isla expenses kii ingoo ku jirna waxan rabaa marki aan diwan galinayo kharash in la i dooran siiyo kharashkan waxa uu yahay oo marka aan doortana la ii soo saaro kharashkan form isaga khuseeya oo gaar u ah hadhowna xogta muujiya tusaale hadii aan rabo inaad diwaan galiyo  mushahar waa inaan doortaa ma compeny ba mise waa project project isagu salay maleh ee wuxuu leeyahay labor tusale waxan doortay compeny  oon kasii doorto salary wa inu iiso baxaa form isaga gaar u ah sido kale  marki la aado page kii shaqaalaha waa in loogu tagaa shaqaale hebal lacagtaasa loo diwaan galiyay intaasana u dhiman tahay, maka expenses compeny iyo project mid kasta wax khuseeya ayaa yaala meesha oo taas adaa iiga cimli badan anu %10 ayaan kaaga sheegay oo adaa lagaa rabaa %10000  ka inaad ku darsatid ood fikirtid hormarintisa sido kale hal tusale oo projects exo
//maanta waxan rabaa iinaad ii bilawdo wep app dhamaystiran kaaso pabta shaqooyin badan balse hada waxan ka rabnaa in laga isticmaalo qaybta project manage wep appkan waxan rabaa inuu la tartamo caalmaka oo uu ka fiicnaado queck books  iyo odoo iwm waxn rabaa inuu noqdo nidaam ERB ah oo aad u heer sareeya aan kuu dul maro qaybta ugu muhiimsan wepp appkan oo an rabno inad ii bilawdid waa project manage taaso qabata ama ogolanaysa in qofku diwan galiyo mashruuc aan faah faahiyo projectigaas marka la diwan galinayo waxa la qoraa form ay ku jiraan magaca mashruca clintiga oo customers lagaso diwan galiyay sido kale project agreed iyo advance paid sido kale accountiga lacagta ay gashay iyo iyo hadii uu labo account ku kala bixiyay ay meeshasi ku cadaato waxa aan hada kaaga shegay project manage waa ay kooban tahay %10 ayan kaaga sheegay inta kael dhamaystirkedu waa adi sido kale waxa jira expenses marak lajoogo expenses waxan kaa ilaabay horta marki an samaynayno project manage wax walba labay u qaybsamayaan oo marki la diwan galinayo kharash waxa lagu waydiin kharashkaasi ma compenygaa mise waa project buu khuseeya sido kale marki aad diwan galinayso employee employeegan ma compeniguu ushaqeeya mise project aya loo diwaan galinayaa sidaaso kale marki expenses la diwan galinayo waa labo project inu expenseskan khuseeyo ama inuu khuseeyo compenyga si hadhow si gaar ah loogu xisabiyo compenyga wixiisa madamo project la xidhiidhin ee uu lacagta accountiga laga jarayo un hadhowna faaiidada laga jaro wuxuu compenigu isticmaalay ama mushaharad ha ahaadana maa wax kalee ee taas adne waad iiga cilmi badan tahay isla expenses kii ingoo ku jirna waxan rabaa marki aan diwan galinayo kharash in la i dooran siiyo kharashkan waxa uu yahay oo marka aan doortana la ii soo saaro kharashkan form isaga khuseeya oo gaar u ah hadhowna xogta muujiya tusaale hadii aan rabo inaad diwaan galiyo  mushahar waa inaan doortaa ma compeny ba mise waa project project isagu salay maleh ee wuxuu leeyahay labor tusale waxan doortay compeny  oon kasii doorto salary wa inu iiso baxaa form isaga gaar u ah sido kale  marki la aado page kii shaqaalaha waa in loogu tagaa shaqaale hebal lacagtaasa loo diwaan galiyay intaasana u dhiman tahay, maka expenses compeny iyo project mid kasta wax khuseeya ayaa yaala meesha oo taas adaa iiga cimli badan anu %10 ayaan kaaga sheegay oo adaa lagaa rabaa %10000  ka inaad ku darsatid ood fikirtid hormarintisa sido kale hal tusale oo projects expenses ah ayaan rabaa inan kuu sheego markan soo galay project expenses waxan doortay materal in projectigas looso gaday wa inu iiso baxa form aan galinayo materalkas oo intuu doono noqon kara tiro ahaan ilaa 20 shay iyo kabdaan marka anaa hadan rabo shay kale add dhihi kara marka kobad waa inu hal form oo ay ku cadyihiin name qty price iwm wa inuuu iiso baxaa doortaana accountiga lacagta laga jarayo markasta kan waa kula socdaa farkasta oo la dhaqaajinayo project isna wakaas hal tusaale waxa kale ee la dooranayo ee project khuseeya ee ku bixi kara si loo doorto iyaga iyo form kooda oo uu ka mid yahay labor transport iwm adaan kaa rabaa ani %1 ayaan kaaga sheegay inta kale adigaa lagaaga fadhiyaa, waxyaalaha kale ee aan rabo in lagu daro waxaa kamid ah in compenigu wax soo saar sameeyo oo tusale mel furnijer ah ayaa waxay isticmasha sistamkena project mange waxan raba haday wax soo sar samayso oo ay inta alaab soo gadato ay alaabtaasi wax kasamayso sida gaanjeel iyo kursi iwm waxyaalo kale oo badan oo ay sii gadayso waxaan kaa rabaa meeshi lagu mamuli laahaa iyadoo la shaqaynaysa meel kasta oo khusaysa adaa iiga cilmi badan taas oo xitaa waxan raba faadidada kasoo baxda in gaar looso guuriyo sidii aad u xisabin lahaydna adaan kaaga fadhiyaa, waxyaalha kale ee xiisaha leh een rabo inuu yeesho wep app kaygu waxa ka mid ah employee wa in shaqalha marki ladiwangalinayo midka compeny wa in lagaliya mushaharkisa bilkasta uu qaato markas waxan rabaa inuu sistamku xisaabiyo isagoo 30 cisho u qaybinaya inu so bandhigo lacagta malinkasta uu shaqaystay tusaale anoo qata bishii 3000 oo ay ii diwan gashan tahay 3000 ayuu sistamku itusi maanto bishu tahay 8-8 inaan shaqaystay lacag dhan 800 oo hadii aan accounting ka  ka codsado lacag 900 ah inuu isiiyo oo uu isiiyo lacagtaas sistamkana uu ku diwaan galiyo waa inuu sistamku soo saara lacag over ah ayuu shaqaalahas qaatay isla sistamku waa in marki ay bari gaadho uu iska masaxa lacagtaas madaamo uu malinki kale loo gudbay shaqluhuna earnig samaynayo madamo sistamku ii xisabinayay malinkasta 100 birr bari markay gadho waxay ka dhigan tahay 900 saasan ku haysta inta bari ka horaysa ayuu sistamku digniin bixinayaa un digniintan melo  kala duwan ayaa laga arki doona balse marki page ka employees lajogo wuxu leeyahay shaqaalugu page id layiraahdo oo xog intaa ka faahfaahsan loogu tago   sido kale waxan raba in shaqaaha projects aad usamayso wax isaga khaas u ah anu mid kamid ah ayaan kuu sheegi oo ah in marki ladiwan galinayo shaqale projects ah waa in la diwan galiya projectiga uu ka shaqaynayo sido kale lacagta lagula heshiiyay iyo waxa uu qabanayona loo diwan galiyaa hadhow ayaa marki lajoogo expenses oo ladorto project laga dorto labor waa inuu iiso bandhiga shaqalaha projects ee jria markan doorto wa inuu iso saara lacagtii lagula heshiiyay oo an markas wixi ian ka siiyay udiwan galiyaaa markale hadi wax loo diwan galinayona wa inu iiso sara hadhagi ugu hadhsana projectigas balse isla markas an ku jiro expenses add oo and iwan galinayo lacag an shaqale siinayo on kawayo wax diwan gashan oo shaqale ah intii an aadi lahaa page ki shaqalaha wan raba in an helo mel ay ku qrantahay add employee oo uu si toos ah iigu xidhi karo page ki employee add waxaa kale hal shaqaale wuu ka shaqayn karaa oo waa loo diwaan galin karaa dhowr projects marayntooda adaan kuu daayay, aan halkaas ooga gudbo employees isna waxan kaaga sheegay waa %10 oo kaliya inta kale dhamaystirkeeda iyo manage keeda adaa lagaa rabaa sidi aad ku dhaamytiri lahay adoo u fikiraya %10000 in ka badan waxan raba inaa n kuugu xijiyo customers halkasna waxan raba in hadi qof customer ah expenses lagasoo diwan galiyo inuu lacag dayn ah qatay ah qofkan halkan laga arki karo inta dayn ee uu qabo ee id giisa ku diwaan gashan ama hadii uu projet la xidhiidho oo u lacag advance ah hormariayay oo ay wax ku dhiman yihiin wa iany halkan ka cadaata sido kale kana wan kuu dumaray adaa inta kale dhamaystiranaya aan u gudbo waxa xiga en rabo inan wax kaaga taabto inventory oo dhowr qaybod ukala baxaya mid kamid ah ayan kaaga shegi o ah waa in ay jirto meel laga arko projectska alabada loo gaday oo dhan ee expenses lagasoo diwaan galiayay waa inu hakan kusoo aruuriyaa oo mid mid projects kasta wuxuu alaab isticmaalay halkan laga arkaa si hadii project hebal alaabtii looso gaday ayaa wax kasoo dhadheen wa in store ka loo wareejiyaa ay compenygu leeyahay oo isna soo gala wixii alaab ah ee compenyga looso gado taaso lagasoo galiyo compeny expenses, invetory isna intanaan kaaga sheegay wixi kale waa dhankaaga ee ah sida waxsoosarka alabtooda iyo sida loo xisaabinayo iwm, isan %10 ayaan kaaga sheegay wixii kale adaa iiga aqoon badan oo sidii uu ula shaqayn lahaa software keena adaa garani, waxaa kamid ah waxyalaha kale een kuu taabanayo inay jirto mel bankska laga sameeyo mel lacagaha dakhliga ah ee si kale inooso galay lagu diwan galiyo sida  dayn soo xarootay oo u qofkastam ah soo celiyay tu project lagu lahaa oo laso xareeyay inti dhimanayd iyo waxyaalo kale oo badan mesha accountinba ha ayaatee anu %1 ayaan kaaga sheegaya waxyalahan danbe een kuu sheegayo mel reports ah oo laga helo reports ka oo dhan kolba midka aan rabo ha ahaato meel aad looga shaqeeyay waxaa ka mid ah inaad samaysid gudaha reports meel laga arko standard report ah oo gud ahan laso kob kobay si compenyga net profitkisa loo ogaado inta porjects ee la helay lacagahoda total guud waxa ku baxay total gud compeny waxa ku baxay total gud waxa daymaha ku maqan total guud waxa la inaguleeyahay total guud waxa fixsed asset total gud iyo waxyaalha kale markaas kadib aya net profitka lasheeg waxan ka ilaaway sherholderska iyo waxa kusoo aday iyagan iyo meeshi lagasoo diwan galinayay ha jirto iyaduna waxaan kaloon kuu sheegi sida aan faa iidada ku helno labo wado 1 project aan qabanay oo aan complete ka dhignay lacagta projectigas usoo hadhay ayaa faa iido sax ah noqonaysa inta ka horaysa oo uu projectigu ongoing yahay manoqonayso faido rasmi ah marku complete la dhaho unbay faido rasmi ah noqonaysa wadada labad in wax so sar lasameeyo oo aan anagu alab soo gadano on ka samayno gaanjeel wax aan sii gadno shaygii aan samayay alabtasna meel gar ah oo lagaliyo usamee, markan shaygas gadno wixi ku baxay iyo wixii an ku gadnay farqiga udhaxeeya ayaa faa iidadeena noqonaysa waxan rajaynaya in ay mel kasoo gali doonto expenses si halkas logaso galiyo wixi ku baxay alab ama gacan ama materalba iwm wan kuu dulmarayaa un adaa dhamaystiraya sidoo kale ha jirto gudaha reports mel daily reports ah oo so bandhigta malinkas wixi dhaqdhaqaq ah ee dhacay iyo wxyalaha ay kala ahayen o iyadana siyaro koban qaybta kore loguso bandhigo reportigas dayliga ah waxan raba in dhowr siyabod lo gudbin karo in sawir ahan lo gudbiyo oo marki an dhaho sher u iso bandhigo inan ku diro telgaram ama an sawir ahan u sher gareeyo ama ula dago ba oon dowlode idhaahdo sidokale excel ahan loo diri karo iyadana say u qurux badan tahay iyo wixii kalee dheri ah adigaan ku daayay, sido kale wa la hela meel fixced assetka lagaso galiyo sido kale mel bank kasta transactionkiisa laga helo waxan ka ilaabay in accounting gudihiisa uu lagu samayn karo in bank lacag lagu diro bank kale oo kala wareejin lagu samayn karo inad ku dari lahayd ban umalayn balse wan ku xasuusiyay iyo waxyaalo kale oo badan ood kusoo dari doontid accounign, isagana an halkas kugu dhaafo waxa kale waa inuu jiraa venders o marki alab laso gadayo ee expenses lajogo ladoorto materal ladoorta venderka lagasoo gaday sido kale gudaha expenses marki an xaraynayo alaab wa in ad usamaysa meel scan ah oo akhrisa aalabta magaceda tiradeda price keda formka si toos ah oogu rida alabtaas intay doonto ha ahaato ilaa 20 sadar iyo kabadanba ama an sawir ahan uso galin karo sidasna ay formka ku buuxisa wixi magac ah ee sixtan rabana an gacanta ku saxdaa isna waan kuu dulmaray oo %10 ayaan kaaga sheegay inta kale dhamaysirkeedu waa xagaaga sidoo kale waa in la helaa meel ay shaqaluhu ama qofkasta oo shirkada ushaqeeya kaso galin karo order sida inu qofka manegarka ah soo galiyo oo uu dhaho shaqale hebal oo ka shaqeeya project hebal ayad siinaysaa lacagtaas ama alaab uu soo gaday uu soo galiyo scankeeda rasiidkeeda oo uu so raciyo projectiga lo wado iyo wixii kale ee khuseeya ee info ah marka horena wa inu hela meel dorasho ah oo udiyarsan sida expneses oo kale o kala waydisa projects iyo compeny si uu orderka u dirsado  kadib qofki accountig ka ahaa maa adminka ahaa uu aqbalo ooguna wareego expenses si hakaas looga aprove gareeyo marki sas lasameyo qofki wax so codsaday wa inu arki karaa codsigisi in la fuliyay iyo inusan fulin ama lacagtasi ay paid tahay iwm wixii kale adaa dhamaystiri sidii ay iskula shaqaynlahaayeen expenses iyo meel kasta oo ay khusayso iyadana %10 ayaan kaaga sheegay, sidoo kale wa inay jirtaa gudaha expenses import excel ama wixi kale ee lagu hayo kharashaadka fara badan ee laso galalinayo  wxii  haduu farabadan ayahay iyadoo fiirinaysa compeny mise project hadu compeny yahayna wuxu yahay si firinaysa si ay u diwan galiso sida salay materal labor iwm hadu ya hay projectina firinaysa magaca projectigas inu jiro hadu jiro oo ay isku magacyihin xita hadi ay wax ka khaldan yihiin magas uu doorto magaca ay isku egyihiin wixi kalena uu saas ku so bandhigo si loo edit gareeyo loona bost gareeyo halmar waa in tas la awooda meel kasta oo wax lagu diwaan galiyo waa inay lahaata imort excel ama wax kale form khuseyana ay leedahay si loo diwan galiyo macaamil badan venders abdan projects badan iwm oo ay khusayso midkastana importigiisu u diyaarsan yahay in la edit gareeyo wax isaga khuseeyana uu ku jiro taasna anu %15 ayaan kaaga sheegay dhamaystirkeeda waa dhan kagaaga, waxaa kale waa inay jirtaa meel setings ah oo la shaqaysa meel kasta oo wax laga badalayo setingidaas waxan rabaa in waxyaalo badan lagu samaynkaro laguna edit garayn karo wax badana lagaaga badali karo sida carancseska luqadaha bers1
//maanta waxan rabaa iinaad ii bilawdo wep app dhamaystiran kaaso pabta shaqooyin badan balse hada waxan ka rabnaa in laga isticmaalo qaybta project manage wep appkan waxan rabaa inuu la tartamo caalmaka oo uu ka fiicnaado queck books  iyo odoo iwm waxn rabaa inuu noqdo nidaam ERB ah oo aad u heer sareeya aan kuu dul maro qaybta ugu muhiimsan wepp appkan oo an rabno inad ii bilawdid waa project manage taaso qabata ama ogolanaysa in qofku diwan galiyo mashruuc aan faah faahiyo projectigaas marka la diwan galinayo waxa la qoraa form ay ku jiraan magaca mashruca clintiga oo customers lagaso diwan galiyay sido kale project agreed iyo advance paid sido kale accountiga lacagta ay gashay iyo iyo hadii uu labo account ku kala bixiyay ay meeshasi ku cadaato waxa aan hada kaaga shegay project manage waa ay kooban tahay %10 ayan kaaga sheegay inta kael dhamaystirkedu waa adi sido kale waxa jira expenses marak lajoogo expenses waxan kaa ilaabay horta marki an samaynayno project manage wax walba labay u qaybsamayaan oo marki la diwan galinayo kharash waxa lagu waydiin kharashkaasi ma compenygaa mise waa project buu khuseeya sido kale marki aad diwan galinayso employee employeegan ma compeniguu ushaqeeya mise project aya loo diwaan galinayaa sidaaso kale marki expenses la diwan galinayo waa labo project inu expenseskan khuseeyo ama inuu khuseeyo compenyga si hadhow si gaar ah loogu xisabiyo compenyga wixiisa madamo project la xidhiidhin ee uu lacagta accountiga laga jarayo un hadhowna faaiidada laga jaro wuxuu compenigu isticmaalay ama mushaharad ha ahaadana maa wax kalee ee taas adne waad iiga cilmi badan tahay isla expenses kii ingoo ku jirna waxan rabaa marki aan diwan galinayo kharash in la i dooran siiyo kharashkan waxa uu yahay oo marka aan doortana la ii soo saaro kharashkan form isaga khuseeya oo gaar u ah hadhowna xogta muujiya tusaale hadii aan rabo inaad diwaan galiyo  mushahar waa inaan doortaa ma compeny ba mise waa project project isagu salay maleh ee wuxuu leeyahay labor tusale waxan doortay compeny  oon kasii doorto salary wa inu iiso baxaa form isaga gaar u ah sido kale  marki la aado page kii shaqaalaha waa in loogu tagaa shaqaale hebal lacagtaasa loo diwaan galiyay intaasana u dhiman tahay, maka expenses compeny iyo project mid kasta wax khuseeya ayaa yaala meesha oo taas adaa iiga cimli badan anu %10 ayaan kaaga sheegay oo adaa lagaa rabaa %10000  ka inaad ku darsatid ood fikirtid hormarintisa sido kale hal tusale oo projects expenses ah ayaan rabaa inan kuu sheego markan soo galay project expenses waxan doortay materal in projectigas looso gaday wa inu iiso baxa form aan galinayo materalkas oo intuu doono noqon kara tiro ahaan ilaa 20 shay iyo kabdaan marka anaa hadan rabo shay kale add dhihi kara marka kobad waa inu hal form oo ay ku cadyihiin name qty price iwm wa inuuu iiso baxaa doortaana accountiga lacagta laga jarayo markasta kan waa kula socdaa farkasta oo la dhaqaajinayo project isna wakaas hal tusaale waxa kale ee la dooranayo ee project khuseeya ee ku bixi kara si loo doorto iyaga iyo form kooda oo uu ka mid yahay labor transport iwm adaan kaa rabaa ani %1 ayaan kaaga sheegay inta kale adigaa lagaaga fadhiyaa, waxyaalaha kale ee aan rabo in lagu daro waxaa kamid ah in compenigu wax soo saar sameeyo oo tusale mel furnijer ah ayaa waxay isticmasha sistamkena project mange waxan raba haday wax soo sar samayso oo ay inta alaab soo gadato ay alaabtaasi wax kasamayso sida gaanjeel iyo kursi iwm waxyaalo kale oo badan oo ay sii gadayso waxaan kaa rabaa meeshi lagu mamuli laahaa iyadoo la shaqaynaysa meel kasta oo khusaysa adaa iiga cilmi badan taas oo xitaa waxan raba faadidada kasoo baxda in gaar looso guuriyo sidii aad u xisabin lahaydna adaan kaaga fadhiyaa, waxyaalha kale ee xiisaha leh een rabo inuu yeesho wep app kaygu waxa ka mid ah employee wa in shaqalha marki ladiwangalinayo midka compeny wa in lagaliya mushaharkisa bilkasta uu qaato markas waxan rabaa inuu sistamku xisaabiyo isagoo 30 cisho u qaybinaya inu so bandhigo lacagta malinkasta uu shaqaystay tusaale anoo qata bishii 3000 oo ay ii diwan gashan tahay 3000 ayuu sistamku itusi maanto bishu tahay 8-8 inaan shaqaystay lacag dhan 800 oo hadii aan accounting ka  ka codsado lacag 900 ah inuu isiiyo oo uu isiiyo lacagtaas sistamkana uu ku diwaan galiyo waa inuu sistamku soo saara lacag over ah ayuu shaqaalahas qaatay isla sistamku waa in marki ay bari gaadho uu iska masaxa lacagtaas madaamo uu malinki kale loo gudbay shaqluhuna earnig samaynayo madamo sistamku ii xisabinayay malinkasta 100 birr bari markay gadho waxay ka dhigan tahay 900 saasan ku haysta inta bari ka horaysa ayuu sistamku digniin bixinayaa un digniintan melo  kala duwan ayaa laga arki doona balse marki page ka employees lajogo wuxu leeyahay shaqaalugu page id layiraahdo oo xog intaa ka faahfaahsan loogu tago   sido kale waxan raba in shaqaaha projects aad usamayso wax isaga khaas u ah anu mid kamid ah ayaan kuu sheegi oo ah in marki ladiwan galinayo shaqale projects ah waa in la diwan galiya projectiga uu ka shaqaynayo sido kale lacagta lagula heshiiyay iyo waxa uu qabanayona loo diwan galiyaa hadhow ayaa marki lajoogo expenses oo ladorto project laga dorto labor waa inuu iiso bandhiga shaqalaha projects ee jria markan doorto wa inuu iso saara lacagtii lagula heshiiyay oo an markas wixi ian ka siiyay udiwan galiyaaa markale hadi wax loo diwan galinayona wa inu iiso sara hadhagi ugu hadhsana projectigas balse isla markas an ku jiro expenses add oo and iwan galinayo lacag an shaqale siinayo on kawayo wax diwan gashan oo shaqale ah intii an aadi lahaa page ki shaqalaha wan raba in an helo mel ay ku qrantahay add employee oo uu si toos ah iigu xidhi karo page ki employee add waxaa kale hal shaqaale wuu ka shaqayn karaa oo waa loo diwaan galin karaa dhowr projects marayntooda adaan kuu daayay, aan halkaas ooga gudbo employees isna waxan kaaga sheegay waa %10 oo kaliya inta kale dhamaystirkeeda iyo manage keeda adaa lagaa rabaa sidi aad ku dhaamytiri lahay adoo u fikiraya %10000 in ka badan waxan raba inaa n kuugu xijiyo customers halkasna waxan raba in hadi qof customer ah expenses lagasoo diwan galiyo inuu lacag dayn ah qatay ah qofkan halkan laga arki karo inta dayn ee uu qabo ee id giisa ku diwaan gashan ama hadii uu projet la xidhiidho oo u lacag advance ah hormariayay oo ay wax ku dhiman yihiin wa iany halkan ka cadaata sido kale kana wan kuu dumaray adaa inta kale dhamaystiranaya aan u gudbo waxa xiga en rabo inan wax kaaga taabto inventory oo dhowr qaybod ukala baxaya mid kamid ah ayan kaaga shegi o ah waa in ay jirto meel laga arko projectska alabada loo gaday oo dhan ee expenses lagasoo diwaan galiayay waa inu hakan kusoo aruuriyaa oo mid mid projects kasta wuxuu alaab isticmaalay halkan laga arkaa si hadii project hebal alaabtii looso gaday ayaa wax kasoo dhadheen wa in store ka loo wareejiyaa ay compenygu leeyahay oo isna soo gala wixii alaab ah ee compenyga looso gado taaso lagasoo galiyo compeny expenses, invetory isna intanaan kaaga sheegay wixi kale waa dhankaaga ee ah sida waxsoosarka alabtooda iyo sida loo xisaabinayo iwm, isan %10 ayaan kaaga sheegay wixii kale adaa iiga aqoon badan oo sidii uu ula shaqayn lahaa software keena adaa garani, waxaa kamid ah waxyalaha kale een kuu taabanayo inay jirto mel bankska laga sameeyo mel lacagaha dakhliga ah ee si kale inooso galay lagu diwan galiyo sida  dayn soo xarootay oo u qofkastam ah soo celiyay tu project lagu lahaa oo laso xareeyay inti dhimanayd iyo waxyaalo kale oo badan mesha accountinba ha ayaatee anu %1 ayaan kaaga sheegaya waxyalahan danbe een kuu sheegayo mel reports ah oo laga helo reports ka oo dhan kolba midka aan rabo ha ahaato meel aad looga shaqeeyay waxaa ka mid ah inaad samaysid gudaha reports meel laga arko standard report ah oo gud ahan laso kob kobay si compenyga net profitkisa loo ogaado inta porjects ee la helay lacagahoda total guud waxa ku baxay total gud compeny waxa ku baxay total gud waxa daymaha ku maqan total guud waxa la inaguleeyahay total guud waxa fixsed asset total gud iyo waxyaalha kale markaas kadib aya net profitka lasheeg waxan ka ilaaway sherholderska iyo waxa kusoo aday iyagan iyo meeshi lagasoo diwan galinayay ha jirto iyaduna waxaan kaloon kuu sheegi sida aan faa iidada ku helno labo wado 1 project aan qabanay oo aan complete ka dhignay lacagta projectigas usoo hadhay ayaa faa iido sax ah noqonaysa inta ka horaysa oo uu projectigu ongoing yahay manoqonayso faido rasmi ah marku complete la dhaho unbay faido rasmi ah noqonaysa wadada labad in wax so sar lasameeyo oo aan anagu alab soo gadano on ka samayno gaanjeel wax aan sii gadno shaygii aan samayay alabtasna meel gar ah oo lagaliyo usamee, markan shaygas gadno wixi ku baxay iyo wixii an ku gadnay farqiga udhaxeeya ayaa faa iidadeena noqonaysa waxan rajaynaya in ay mel kasoo gali doonto expenses si halkas logaso galiyo wixi ku baxay alab ama gacan ama materalba iwm wan kuu dulmarayaa un adaa dhamaystiraya sidoo kale ha jirto gudaha reports mel daily reports ah oo so bandhigta malinkas wixi dhaqdhaqaq ah ee dhacay iyo wxyalaha ay kala ahayen o iyadana siyaro koban qaybta kore loguso bandhigo reportigas dayliga ah waxan raba in dhowr siyabod lo gudbin karo in sawir ahan lo gudbiyo oo marki an dhaho sher u iso bandhigo inan ku diro telgaram ama an sawir ahan u sher gareeyo ama ula dago ba oon dowlode idhaahdo sidokale excel ahan loo diri karo iyadana say u qurux badan tahay iyo wixii kalee dheri ah adigaan ku daayay, sido kale wa la hela meel fixced assetka lagaso galiyo sido kale mel bank kasta transactionkiisa laga helo waxan ka ilaabay in accounting gudihiisa uu lagu samayn karo in bank lacag lagu diro bank kale oo kala wareejin lagu samayn karo inad ku dari lahayd ban umalayn balse wan ku xasuusiyay iyo waxyaalo kale oo badan ood kusoo dari doontid accounign, isagana an halkas kugu dhaafo waxa kale waa inuu jiraa venders o marki alab laso gadayo ee expenses lajogo ladoorto materal ladoorta venderka lagasoo gaday sido kale gudaha expenses marki an xaraynayo alaab wa in ad usamaysa meel scan ah oo akhrisa aalabta magaceda tiradeda price keda formka si toos ah oogu rida alabtaas intay doonto ha ahaato ilaa 20 sadar iyo kabadanba ama an sawir ahan uso galin karo sidasna ay formka ku buuxisa wixi magac ah ee sixtan rabana an gacanta ku saxdaa isna waan kuu dulmaray oo %10 ayaan kaaga sheegay inta kale dhamaysirkeedu waa xagaaga sidoo kale waa in la helaa meel ay shaqaluhu ama qofkasta oo shirkada ushaqeeya kaso galin karo order sida inu qofka manegarka ah soo galiyo oo uu dhaho shaqale hebal oo ka shaqeeya project hebal ayad siinaysaa lacagtaas ama alaab uu soo gaday uu soo galiyo scankeeda rasiidkeeda oo uu so raciyo projectiga lo wado iyo wixii kale ee khuseeya ee info ah marka horena wa inu hela meel dorasho ah oo udiyarsan sida expneses oo kale o kala waydisa projects iyo compeny si uu orderka u dirsado  kadib qofki accountig ka ahaa maa adminka ahaa uu aqbalo ooguna wareego expenses si hakaas looga aprove gareeyo marki sas lasameyo qofki wax so codsaday wa inu arki karaa codsigisi in la fuliyay iyo inusan fulin ama lacagtasi ay paid tahay iwm wixii kale adaa dhamaystiri sidii ay iskula shaqaynlahaayeen expenses iyo meel kasta oo ay khusayso iyadana %10 ayaan kaaga sheegay, sidoo kale wa inay jirtaa gudaha expenses import excel ama wixi kale ee lagu hayo kharashaadka fara badan ee laso galalinayo  wxii  haduu farabadan ayahay iyadoo fiirinaysa compeny mise project hadu compeny yahayna wuxu yahay si firinaysa si ay u diwan galiso sida salay materal labor iwm hadu ya hay projectina firinaysa magaca projectigas inu jiro hadu jiro oo ay isku magacyihin xita hadi ay wax ka khaldan yihiin magas uu doorto magaca ay isku egyihiin wixi kalena uu saas ku so bandhigo si loo edit gareeyo loona bost gareeyo halmar waa in tas la awooda meel kasta oo wax lagu diwaan galiyo waa inay lahaata imort excel ama wax kale form khuseyana ay leedahay si loo diwan galiyo macaamil badan venders abdan projects badan iwm oo ay khusayso midkastana importigiisu u diyaarsan yahay in la edit gareeyo wax isaga khuseeyana uu ku jiro taasna anu %15 ayaan kaaga sheegay dhamaystirkeeda waa dhan kagaaga, waxaa kale waa inay jirtaa meel setings ah oo la shaqaysa meel kasta oo wax laga badalayo setingidaas waxan rabaa in waxyaalo badan lagu samaynkaro laguna edit garayn karo wax badana lagaaga badali karo sida carancseska luqadaha persunalize scuratigii themkii user manage kii oo uu qofka adiminka ah ka maamuli lahaa iyo waxyaalo kale oo badan oo halkan looga baahan yahay si qofka waxyalo badn oo joos ah loo siiyo   shaqdaasna adaa dhamaystiri si uu caalamka oola jaan qaado wep appkeenu anu hada intan waxan kaga sheegay waa %1 inta kale dhamaystirkeeda ayaa lagaa rabaa waa in loo yeela profile dhamaystiran iwm wixii kale aanan halkan ka sheegin ee uu ubaahan yahay wep appku ada dhamaystiri oo iiso bandhigi inaan ku darno waxyalah kale een ku soo sheegay dhaamystirkooda adaa lagaa rabaa  waxa kale ee ubaahan in lagu daro ee aan anigu kuu sheegina waad iiso sheegi waxaa kale dashbourd qurux badan wax badana muujiya inu yeesho wep appkan waxan u diyaarinayna inaan ka gado dadka sido kale dadkuna ay lacag kasameeyan oo hadi uu qofkeno u leeyaay lacagta qofkas laga qaday %15 ayuu leeyahay qofki uu linkigiisa isku diwaan galiyay sido kale sidii loo maarayn lahaa tasna adaa lagaa raba iyo suu qofkasi wixiisa mel oogala socon lahaa wep appkan waxaa kle inuu lahaado appku home page ka lagasoo galo oo aad u diyaarsan kaaso qofka uu usoo bandhigayo adeegyadena iyo wixii iska gaditaan ah lana tuso qfoka in waxaylo badan halkan lagu maareyo sida project manage oo hada availbale ah ku wakla ee ay ka mid yihiin hotell manage resturants gancasiyada wxa ii biya ee sels ka ah ada garanaya magacad u bixinayside warshadaha wax soosaarka mange iwm page kaas sido kale waxa laga arkayaa siduu qofku isku diwan glain laahaa iyo pricing login signup iyo wax walba oo looga baahan home page kan oo aad aad ooga shaqaysay iskuna xayisiinaya waxyalaah uu dheeryahay shirkada kalena ku cadaynaya ado waxa aad iiso wado raacinaya wixi aan kuuso sheegay moyee waxa dhiman eed iiso wado ku daraya waxaan rabaa in uu noqdo mid aad u hormarsan xag desing ahaan iyo xag xisaabad xag xog ahaan iwm dhan kasta ka diyaarsan waxana raba inuu ushaqeeyo dad badan qaabilo midkastana wixiisa gooni u kaydiya datadiisa iwm oo aysan isku khaldamin marka aan bilabayno waxan u bilaabaynaa sidii anagoo buplish u dyaarinayna oo aan wax walba u diayrino api gisa forntedkisa databasekiisa user manage kiisa app kan min bilaw ilaa dhamaad waxan rabaa inad ka shaqaysid oodan wax ka tagin ilaa uu noqdo mid diyaar u ah in looso fasaxo bulshada marka an frontedka diyarinayno page kasta inanan ka dhigin mid real ah ayad marka hore iso diri isago ay wax macmal ah ku jran si aan u aragno hadhow sida uu u ekan dono marki xog sax ah laso galiyo maras ka dib ayan hadane isla isagi o diyar u ah inu qabilo api yadii logu tala galy iiso diri waxaa kale wixii aan kuuso sheegay anu wan kuu sheegay siday macqul kunoqonayaan adaan kaa raba oo ad udiyarin lahayd strakjarkoda manage koda oo aysan isku qasmin iyo sidi ad ukal qaad qadi lahady wax kasta oo xoga ahna uu yesho id edit delet iwm waxyalah aan kuu sheegayan hadaysan sax ahayn maaha inaad igu raacdo qasab maahan, hada waxan kuu sheegayaa tegnlajiydaa aan isticmaalayno horay waxan u iscimalay ayan kuu shegi qasabna mahan inad qadato waxaba ee wixi kaa anfaca unbad qadani   Next.js (React framework, SSR/SSG/CSR, API routes)

//React (UI library)



//kaladarada aan isticmalaayno waxaa kamid ah    #09bc8a #021618  iyo cadan wixi kale ee loogu tala galay waxyalaha kale adaa ku daraya waxa oogu wayn un waa kan 09bc8a  si guudna black them aya lagu bilaabayaa mashruuca markas kadib ayuu qofku doran karaa inu cadan u badasho balse marka hore balck aya laguso galaya hadu cadanku ka qurux badan yahayna adaa dorashada iskaleh maadaamod tahay devloberkayga balse hada waxan kuu sheegaya in ay diyarsanyihiin tecknolajiyadas iyo .next oo an kicin karo oo run garayn karo waxna aysan ku jirin balse intaanan bilaabin ayaan horta wax isla meel dhigaynaa oo iiso diri isagoo intan ka faahfaasan iyo page kasta oo jira waxa uu qabanayo iwm kadib ban forntedka strakjar udajinaya iyo api ga waxana kuusi sheegi in uu diyarsan ayhay folderka app gudihiisana la galin doono page kasta oo jira sida dhashbourd login singup expenses customers kuwaaso lahan doona sub pages sida id edit add iwm kolba wixiisa gudaha app waxa kusiijiri doona api oo isna hoos iman doonan api yada pageska kale oo dhan tata baskina wan sii sameeyay mid local ah hadhow marki an buplish garaynayo ayan badali doona si aan oogu xidhno mid online ah magaranayo intaas wax kabadan oon ku dhaho mudanee devlober ee kaliya waxan kaa rabaa wep app kan oo dhamaystirn inaad ila diyaariso aadna u fikirto sida adoo 30 sano khibrad ah leh wax walbana ka fikirtid ilaa sikiyuuratigiisa waxaa kale oon kaa ilaabay desing ka page kasta oo jira waa inuu lahaada labo desing  oo kala ah desktop iyo mopile vertion desing oo ad u qurux badan 
